extends layout

block content
  h3 Services
  table.table.table-condensed.table-bordered(style="background-color: #333")
    tr.success
      th Service
      th Status
      th Pass/Total
      th Last Pass
      th Last Failure
    - var i = 0;
    each service, sname in server.services
      if i++ > 0
        tr: td(colspan=5) &nbsp;
      tr
        td: a(href="/services/#{sname}")= sname
        td!= health(service.isHealthy)
        td
        td
        td
      each sensor, name in service.sensors
        tr
          td(style="padding-left: 20px")
            = name
            each time in TIMES
              = " "
              a(href="/services/#{sname}/sensors/#{name}/#{time}")= time.substr(0,1);
          td!= health(sensor.isHealthy)
          td #{sensor.passCount}/#{sensor.totalCount}
          td= sensor.lastPass 
          td= sensor.lastFail 

  h3 Stats
  ul
    each st, name in server.stats
      li 
        = name + ": "
        each time in TIMES
          = " "
          a(href="/stats/#{name}/#{time}")= time.substr(0,1);
